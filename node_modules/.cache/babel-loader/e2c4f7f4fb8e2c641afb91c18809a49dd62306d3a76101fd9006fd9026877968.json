{"ast":null,"code":"import React,{useState}from'react';import ApiService from'../../service/ApiService';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(){const navigate=useNavigate();const[formData,setFormData]=useState({name:'',email:'',password:'',phoneNumber:''});const[errorMessage,setErrorMessage]=useState('');const[successMessage,setSuccessMessage]=useState('');const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const validateForm=()=>{const{name,email,password,phoneNumber}=formData;if(!name||!email||!password||!phoneNumber){return false;}return true;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){setErrorMessage('Please fill all the fields.');setTimeout(()=>setErrorMessage(''),5000);return;}try{// Call the register method from ApiService\nconst response=await ApiService.registerUser(formData);// Check if the response is successful\nif(response.statusCode===200){// Clear the form fields after successful registration\nsetFormData({name:'',email:'',password:'',phoneNumber:''});setSuccessMessage('User registered successfully');setTimeout(()=>{setSuccessMessage('');navigate('/');},3000);}}catch(error){var _error$response,_error$response$data;setErrorMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);setTimeout(()=>setErrorMessage(''),5000);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",children:[errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:successMessage}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phoneNumber\",value:formData.phoneNumber,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"register-link\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login\"})]})]});}export default RegisterPage;","map":{"version":3,"names":["React","useState","ApiService","useNavigate","jsx","_jsx","jsxs","_jsxs","RegisterPage","navigate","formData","setFormData","name","email","password","phoneNumber","errorMessage","setErrorMessage","successMessage","setSuccessMessage","handleInputChange","e","value","target","validateForm","handleSubmit","preventDefault","setTimeout","response","registerUser","statusCode","error","_error$response","_error$response$data","data","message","className","children","onSubmit","type","onChange","required","href"],"sources":["C:/Users/ADMIN/Desktop/CICD/frontend-hotelbooking1/frontend-hotelbooking/src/component/auth/RegisterPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport ApiService from '../../service/ApiService';\nimport { useNavigate } from 'react-router-dom';\n\nfunction RegisterPage() {\n    const navigate = useNavigate();\n\n    const [formData, setFormData] = useState({\n        name: '',\n        email: '',\n        password: '',\n        phoneNumber: ''\n    });\n\n    const [errorMessage, setErrorMessage] = useState('');\n    const [successMessage, setSuccessMessage] = useState('');\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData({ ...formData, [name]: value });\n    };\n\n    const validateForm = () => {\n        const { name, email, password, phoneNumber } = formData;\n        if (!name || !email || !password || !phoneNumber) {\n            return false;\n        }\n        return true;\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!validateForm()) {\n            setErrorMessage('Please fill all the fields.');\n            setTimeout(() => setErrorMessage(''), 5000);\n            return;\n        }\n        try {\n            // Call the register method from ApiService\n            const response = await ApiService.registerUser(formData);\n\n            // Check if the response is successful\n            if (response.statusCode === 200) {\n                // Clear the form fields after successful registration\n                setFormData({\n                    name: '',\n                    email: '',\n                    password: '',\n                    phoneNumber: ''\n                });\n                setSuccessMessage('User registered successfully');\n                setTimeout(() => {\n                    setSuccessMessage('');\n                    navigate('/');\n                }, 3000);\n            }\n        }\n         catch (error) {\n            setErrorMessage(error.response?.data?.message || error.message);\n            setTimeout(() => setErrorMessage(''), 5000);\n        }\n    };\n\n    return (\n        <div className=\"auth-container\">\n        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n        {successMessage && <p className=\"success-message\">{successMessage}</p>}\n            <h2>Sign Up</h2>\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                    <label>Name:</label>\n                    <input type=\"text\" name=\"name\" value={formData.name} onChange={handleInputChange} required />\n                </div>\n                <div className=\"form-group\">\n                    <label>Email:</label>\n                    <input type=\"email\" name=\"email\" value={formData.email} onChange={handleInputChange} required />\n                </div>\n                <div className=\"form-group\">\n                    <label>Phone Number:</label>\n                    <input type=\"text\" name=\"phoneNumber\" value={formData.phoneNumber} onChange={handleInputChange} required />\n                </div>\n                <div className=\"form-group\">\n                    <label>Password:</label>\n                    <input type=\"password\" name=\"password\" value={formData.password} onChange={handleInputChange} required />\n                </div>\n                <button type=\"submit\">Register</button>\n            </form>\n            <p className=\"register-link\">\n                Already have an account? <a href=\"/login\">Login</a>\n            </p>\n        </div>\n    );\n}\n\nexport default RegisterPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}