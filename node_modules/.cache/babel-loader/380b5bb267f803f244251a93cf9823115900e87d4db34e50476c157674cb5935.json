{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import ApiService from'../../service/ApiService';import AdminLayout from'./AdminLayout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPage=()=>{const navigate=useNavigate();const[totalRooms,setTotalRooms]=useState(0);const[availableRooms,setAvailableRooms]=useState(0);const[totalUsers,setTotalUsers]=useState(0);const[recentBookings,setRecentBookings]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchStats=async()=>{try{const roomsRes=await ApiService.getAllRooms();setTotalRooms(roomsRes.roomList.length);const availRes=await ApiService.getAllAvailableRooms();setAvailableRooms(availRes.roomList.length);const usersRes=await ApiService.getAllUsers();setTotalUsers(usersRes.length);const bookingsRes=await ApiService.getAllBookings();setRecentBookings(bookingsRes.bookingList.slice(0,5));// Recent 5 bookings\n}catch(error){console.error('Error fetching stats:',error);}finally{setLoading(false);}};fetchStats();},[]);const bookedRooms=totalRooms-availableRooms;if(loading){return/*#__PURE__*/_jsx(AdminLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"admin-page\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading dashboard...\"})})});}return/*#__PURE__*/_jsx(AdminLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Rooms\"}),/*#__PURE__*/_jsx(\"p\",{children:totalRooms})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Available Rooms\"}),/*#__PURE__*/_jsx(\"p\",{children:availableRooms})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Booked Rooms\"}),/*#__PURE__*/_jsx(\"p\",{children:bookedRooms})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Users\"}),/*#__PURE__*/_jsx(\"p\",{children:totalUsers})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recent-bookings\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recent Bookings\"}),/*#__PURE__*/_jsx(\"ul\",{children:recentBookings.map(booking=>/*#__PURE__*/_jsxs(\"li\",{children:[booking.bookingConfirmationCode,\" - \",booking.checkInDate,\" to \",booking.checkOutDate]},booking.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"admin-button\",onClick:()=>navigate('/admin/manage-rooms'),children:\"Manage Rooms\"}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-button\",onClick:()=>navigate('/admin/manage-bookings'),children:\"Manage Bookings\"})]})]})});};export default AdminPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ApiService","AdminLayout","jsx","_jsx","jsxs","_jsxs","AdminPage","navigate","totalRooms","setTotalRooms","availableRooms","setAvailableRooms","totalUsers","setTotalUsers","recentBookings","setRecentBookings","loading","setLoading","fetchStats","roomsRes","getAllRooms","roomList","length","availRes","getAllAvailableRooms","usersRes","getAllUsers","bookingsRes","getAllBookings","bookingList","slice","error","console","bookedRooms","children","className","map","booking","bookingConfirmationCode","checkInDate","checkOutDate","id","onClick"],"sources":["C:/Users/ADMIN/Desktop/CICD/frontend-hotelbooking1/frontend-hotelbooking/src/component/admin/AdminPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ApiService from '../../service/ApiService';\nimport AdminLayout from './AdminLayout';\n\nconst AdminPage = () => {\n  const navigate = useNavigate();\n  const [totalRooms, setTotalRooms] = useState(0);\n  const [availableRooms, setAvailableRooms] = useState(0);\n  const [totalUsers, setTotalUsers] = useState(0);\n  const [recentBookings, setRecentBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const roomsRes = await ApiService.getAllRooms();\n        setTotalRooms(roomsRes.roomList.length);\n\n        const availRes = await ApiService.getAllAvailableRooms();\n        setAvailableRooms(availRes.roomList.length);\n\n        const usersRes = await ApiService.getAllUsers();\n        setTotalUsers(usersRes.length);\n\n        const bookingsRes = await ApiService.getAllBookings();\n        setRecentBookings(bookingsRes.bookingList.slice(0, 5)); // Recent 5 bookings\n      } catch (error) {\n        console.error('Error fetching stats:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStats();\n  }, []);\n\n  const bookedRooms = totalRooms - availableRooms;\n\n  if (loading) {\n    return (\n      <AdminLayout>\n        <div className=\"admin-page\">\n          <p>Loading dashboard...</p>\n        </div>\n      </AdminLayout>\n    );\n  }\n\n  return (\n    <AdminLayout>\n      <div className=\"admin-page\">\n        <h1>Dashboard</h1>\n        <div className=\"stats-cards\">\n          <div className=\"stat-card\">\n            <h3>Total Rooms</h3>\n            <p>{totalRooms}</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>Available Rooms</h3>\n            <p>{availableRooms}</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>Booked Rooms</h3>\n            <p>{bookedRooms}</p>\n          </div>\n          <div className=\"stat-card\">\n            <h3>Total Users</h3>\n            <p>{totalUsers}</p>\n          </div>\n        </div>\n        <div className=\"recent-bookings\">\n          <h2>Recent Bookings</h2>\n          <ul>\n            {recentBookings.map((booking) => (\n              <li key={booking.id}>\n                {booking.bookingConfirmationCode} - {booking.checkInDate} to {booking.checkOutDate}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"admin-actions\">\n          <button className=\"admin-button\" onClick={() => navigate('/admin/manage-rooms')}>\n            Manage Rooms\n          </button>\n          <button className=\"admin-button\" onClick={() => navigate('/admin/manage-bookings')}>\n            Manage Bookings\n          </button>\n        </div>\n      </div>\n    </AdminLayout>\n  );\n};\n\nexport default AdminPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}