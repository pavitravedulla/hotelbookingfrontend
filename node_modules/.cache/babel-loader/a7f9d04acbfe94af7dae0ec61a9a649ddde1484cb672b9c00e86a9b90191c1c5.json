{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import ApiService from'../../service/ApiService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditProfilePage=()=>{const[user,setUser]=useState(null);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchUserProfile=async()=>{try{const response=await ApiService.getUserProfile();setUser(response.user);}catch(error){setError(error.message);}};fetchUserProfile();},[]);const handleDeleteProfile=async()=>{if(!window.confirm('Are you sure you want to delete your account?')){return;}try{await ApiService.deleteUser(user.id);navigate('/signup');}catch(error){setError(error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"edit-profile-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Profile\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone Number:\"}),\" \",user.phoneNumber]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-profile-button\",onClick:handleDeleteProfile,children:\"Delete Profile\"})]})]});};export default EditProfilePage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ApiService","jsx","_jsx","jsxs","_jsxs","EditProfilePage","user","setUser","error","setError","navigate","fetchUserProfile","response","getUserProfile","message","handleDeleteProfile","window","confirm","deleteUser","id","className","children","name","email","phoneNumber","onClick"],"sources":["C:/Users/ADMIN/Desktop/CICD/frontend-hotelbooking1/frontend-hotelbooking/src/component/profile/EditProfilePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport ApiService from '../../service/ApiService';\n\nconst EditProfilePage = () => {\n    const [user, setUser] = useState(null);\n    const [error, setError] = useState(null);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchUserProfile = async () => {\n            try {\n                const response = await ApiService.getUserProfile();\n                setUser(response.user);\n            } catch (error) {\n                setError(error.message);\n            }\n        };\n\n        fetchUserProfile();\n    }, []);\n\n    const handleDeleteProfile = async () => {\n        if (!window.confirm('Are you sure you want to delete your account?')) {\n            return;\n        }\n        try {\n            await ApiService.deleteUser(user.id);\n            navigate('/signup');\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    return (\n        <div className=\"edit-profile-page\">\n            <h2>Edit Profile</h2>\n            {error && <p className=\"error-message\">{error}</p>}\n            {user && (\n                <div className=\"profile-details\">\n                    <p><strong>Name:</strong> {user.name}</p>\n                    <p><strong>Email:</strong> {user.email}</p>\n                    <p><strong>Phone Number:</strong> {user.phoneNumber}</p>\n                    <button className=\"delete-profile-button\" onClick={handleDeleteProfile}>Delete Profile</button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default EditProfilePage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAa,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAa,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,UAAU,CAACa,cAAc,CAAC,CAAC,CAClDN,OAAO,CAACK,QAAQ,CAACN,IAAI,CAAC,CAC1B,CAAE,MAAOE,KAAK,CAAE,CACZC,QAAQ,CAACD,KAAK,CAACM,OAAO,CAAC,CAC3B,CACJ,CAAC,CAEDH,gBAAgB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAAE,CAClE,OACJ,CACA,GAAI,CACA,KAAM,CAAAjB,UAAU,CAACkB,UAAU,CAACZ,IAAI,CAACa,EAAE,CAAC,CACpCT,QAAQ,CAAC,SAAS,CAAC,CACvB,CAAE,MAAOF,KAAK,CAAE,CACZC,QAAQ,CAACD,KAAK,CAACM,OAAO,CAAC,CAC3B,CACJ,CAAC,CAED,mBACIV,KAAA,QAAKgB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BnB,IAAA,OAAAmB,QAAA,CAAI,cAAY,CAAI,CAAC,CACpBb,KAAK,eAAIN,IAAA,MAAGkB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEb,KAAK,CAAI,CAAC,CACjDF,IAAI,eACDF,KAAA,QAAKgB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BjB,KAAA,MAAAiB,QAAA,eAAGnB,IAAA,WAAAmB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACf,IAAI,CAACgB,IAAI,EAAI,CAAC,cACzClB,KAAA,MAAAiB,QAAA,eAAGnB,IAAA,WAAAmB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACf,IAAI,CAACiB,KAAK,EAAI,CAAC,cAC3CnB,KAAA,MAAAiB,QAAA,eAAGnB,IAAA,WAAAmB,QAAA,CAAQ,eAAa,CAAQ,CAAC,IAAC,CAACf,IAAI,CAACkB,WAAW,EAAI,CAAC,cACxDtB,IAAA,WAAQkB,SAAS,CAAC,uBAAuB,CAACK,OAAO,CAAEV,mBAAoB,CAAAM,QAAA,CAAC,gBAAc,CAAQ,CAAC,EAC9F,CACR,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAhB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}